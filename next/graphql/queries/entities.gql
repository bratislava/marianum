fragment UploadImageEntity on UploadFileEntity {
  id
  attributes {
    url
    name
    alternativeText
    caption
    size
    width
    height
  }
}

fragment UploadFileEntity on UploadFileEntity {
  id
  attributes {
    url
    name
    size
    ext
  }
}

fragment ArticleCategoryEntity on ArticleCategoryEntity {
  id
  attributes {
    title
    slug
  }
}

fragment ArticleCardEntity on ArticleEntity {
  id
  attributes {
    title
    slug
    perex
    publishedAt
    coverMedia {
      data {
        ...UploadImageEntity
      }
    }
    articleCategory {
      data {
        ...ArticleCategoryEntity
      }
    }
  }
}

fragment ArticleEntity on ArticleEntity {
  ...ArticleCardEntity
  attributes {
    content
  }
}

fragment BranchEntity on BranchEntity {
  id
  attributes {
    title
    slug
    type
    cemeteryType
    description
    contact {
      data {
        ...ContactEntity
      }
    }
    medias {
      data {
        ...UploadImageEntity
      }
    }
    address
    navigateToLink
    openingHoursOverride
    longitude
    latitude
  }
}

fragment ContactEntity on ContactEntity {
  id
  attributes {
    title
    name
    email
    phone1
    phone2
  }
}

fragment PartnerEntity on PartnerEntity {
  id
  attributes {
    title
    link
    logo {
      data {
        ...UploadImageEntity
      }
    }
    featured
    priority
  }
}

fragment BundleCardEntity on BundleEntity {
  id
  attributes {
    title
    slug
    perex
    price
    coverMedia {
      data {
        ...UploadImageEntity
      }
    }
    bundleContent {
      description
    }
  }
}

fragment BundleEntity on BundleEntity {
  id
  attributes {
    title
    slug
    perex
    price
    coverMedia {
      data {
        ...UploadImageEntity
      }
    }
    bundleContent {
      description
    }
    additionalServices {
      id
      title
      content
      price
    }
  }
}

fragment PageCardEntity on PageEntity {
  id
  attributes {
    title
    slug
    publishedAt
    perex
    coverMedia {
      data {
        ...UploadImageEntity
      }
    }
  }
}

fragment PageEntity on PageEntity {
  ...PageCardEntity
  attributes {
    layout
    ctaButton {
      ...CtaButton
    }
    sidebar {
      ...Sidebar
    }
    sections {
      ... on ComponentSectionsAccordionGroup {
        __typename
        ...AccordionGroup
      }
      ... on ComponentSectionsBranchGroup {
        __typename
        ...BranchGroup
      }
      ... on ComponentSectionsBundleListing {
        __typename
        ...BundleListing
      }
      ... on ComponentSectionsContactGroup {
        __typename
        ...ContactGroup
      }
      ... on ComponentSectionsDocumentGroup {
        __typename
        id
        title
        documents {
          document {
            data {
              # TODO replace by fragment
              id
              attributes {
                title
              }
            }
          }
        }
      }
      ... on ComponentSectionsGallery {
        __typename
        id
        title
        medias {
          data {
            ...UploadImageEntity
          }
        }
      }
      ... on ComponentSectionsPartnersSection {
        __typename
        ...PartnersSection
      }
      ... on ComponentSectionsMenuListing {
        __typename
        id
        title
        slug
      }
      ... on ComponentSectionsManualListing {
        __typename
        ...ManualListing
      }
      ... on ComponentSectionsNewsListing {
        __typename
        id
        title
      }
      ... on ComponentSectionsMapSection {
        __typename
        ...MapSection
      }
      ... on ComponentSectionsRichtext {
        __typename
        id
        content
        button {
          label
          url
          targetBlank
        }
      }
      ... on ComponentSectionsProceduresSection {
        __typename
        id
        title
      }
    }
  }
}

fragment ProceduresEntity on ProcedureEntity {
  attributes {
    outsideMedicalFacility {
      ...Procedure
    }
    atMedicalFacility {
      ...Procedure
    }
  }
}
